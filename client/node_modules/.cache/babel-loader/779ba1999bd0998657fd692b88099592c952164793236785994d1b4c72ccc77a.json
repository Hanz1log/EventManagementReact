{"ast":null,"code":"import React,{useState}from'react';import axios from\"axios\";import Error from'../components/Error';import Success from'../components/Success';import Loader from'../components/Loader';import'../screens/LandingPage.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Loginscreen(){const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[loading,setLoading]=useState(false);const[error,setError]=useState();async function login(){const user={email,password};try{setLoading(true);const result=await axios.post('/api/users/login',user);setLoading(false);localStorage.setItem('currentUser',JSON.stringify(result.data));window.location.href='/home';}catch(error){console.log(error);setLoading(false);setError(true);}}return/*#__PURE__*/_jsxs(\"div\",{className:\"login-wrapper\",children:[loading&&/*#__PURE__*/_jsx(Loader,{}),/*#__PURE__*/_jsx(\"div\",{className:\"login-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"login-card\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Login\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Email\",value:email,onChange:e=>setEmail(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",placeholder:\"Password\",value:password,onChange:e=>setPassword(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{className:\"login-btn mt-3\",onClick:login,children:\"Login\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-3\",children:/*#__PURE__*/_jsx(Error,{message:\"Invalid Credentials\"})})]})})]});}export default Loginscreen;","map":{"version":3,"names":["React","useState","axios","Error","Success","Loader","jsx","_jsx","jsxs","_jsxs","Loginscreen","email","setEmail","password","setPassword","loading","setLoading","error","setError","login","user","result","post","localStorage","setItem","JSON","stringify","data","window","location","href","console","log","className","children","type","placeholder","value","onChange","e","target","onClick","message"],"sources":["D:/EventManagementReact/client/src/screens/Loginscreen.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from \"axios\";\r\nimport Error from '../components/Error';\r\nimport Success from '../components/Success';\r\nimport Loader from '../components/Loader';\r\nimport '../screens/LandingPage.css'; \r\n\r\nfunction Loginscreen() {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState();\r\n\r\n  async function login() {\r\n    const user = { email, password };\r\n    try {\r\n      setLoading(true);\r\n      const result = await axios.post('/api/users/login', user);\r\n      setLoading(false);\r\n      localStorage.setItem('currentUser', JSON.stringify(result.data));\r\n      window.location.href = '/home';\r\n    } catch (error) {\r\n      console.log(error);\r\n      setLoading(false);\r\n      setError(true);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"login-wrapper\">\r\n      {loading && <Loader />}\r\n      <div className=\"login-container\">\r\n        <div className=\"login-card\">\r\n          <h2>Login</h2>\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            placeholder=\"Email\"\r\n            value={email}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n          />\r\n          <input\r\n            type=\"password\"\r\n            className=\"form-control\"\r\n            placeholder=\"Password\"\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n          />\r\n          <button className=\"login-btn mt-3\" onClick={login}>Login</button>\r\n          {error && <div className=\"mt-3\"><Error message=\"Invalid Credentials\" /></div>}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Loginscreen;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,KAAK,KAAM,qBAAqB,CACvC,MAAO,CAAAC,OAAO,KAAM,uBAAuB,CAC3C,MAAO,CAAAC,MAAM,KAAM,sBAAsB,CACzC,MAAO,4BAA4B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEpC,QAAS,CAAAC,WAAWA,CAAA,CAAG,CACrB,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACY,QAAQ,CAAEC,WAAW,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CAE5C,KAAM,CAACc,OAAO,CAAEC,UAAU,CAAC,CAAGf,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAACgB,KAAK,CAAEC,QAAQ,CAAC,CAAGjB,QAAQ,CAAC,CAAC,CAEpC,cAAe,CAAAkB,KAAKA,CAAA,CAAG,CACrB,KAAM,CAAAC,IAAI,CAAG,CAAET,KAAK,CAAEE,QAAS,CAAC,CAChC,GAAI,CACFG,UAAU,CAAC,IAAI,CAAC,CAChB,KAAM,CAAAK,MAAM,CAAG,KAAM,CAAAnB,KAAK,CAACoB,IAAI,CAAC,kBAAkB,CAAEF,IAAI,CAAC,CACzDJ,UAAU,CAAC,KAAK,CAAC,CACjBO,YAAY,CAACC,OAAO,CAAC,aAAa,CAAEC,IAAI,CAACC,SAAS,CAACL,MAAM,CAACM,IAAI,CAAC,CAAC,CAChEC,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAG,OAAO,CAChC,CAAE,MAAOb,KAAK,CAAE,CACdc,OAAO,CAACC,GAAG,CAACf,KAAK,CAAC,CAClBD,UAAU,CAAC,KAAK,CAAC,CACjBE,QAAQ,CAAC,IAAI,CAAC,CAChB,CACF,CAEA,mBACET,KAAA,QAAKwB,SAAS,CAAC,eAAe,CAAAC,QAAA,EAC3BnB,OAAO,eAAIR,IAAA,CAACF,MAAM,GAAE,CAAC,cACtBE,IAAA,QAAK0B,SAAS,CAAC,iBAAiB,CAAAC,QAAA,cAC9BzB,KAAA,QAAKwB,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzB3B,IAAA,OAAA2B,QAAA,CAAI,OAAK,CAAI,CAAC,cACd3B,IAAA,UACE4B,IAAI,CAAC,MAAM,CACXF,SAAS,CAAC,cAAc,CACxBG,WAAW,CAAC,OAAO,CACnBC,KAAK,CAAE1B,KAAM,CACb2B,QAAQ,CAAGC,CAAC,EAAK3B,QAAQ,CAAC2B,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAC3C,CAAC,cACF9B,IAAA,UACE4B,IAAI,CAAC,UAAU,CACfF,SAAS,CAAC,cAAc,CACxBG,WAAW,CAAC,UAAU,CACtBC,KAAK,CAAExB,QAAS,CAChByB,QAAQ,CAAGC,CAAC,EAAKzB,WAAW,CAACyB,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAC9C,CAAC,cACF9B,IAAA,WAAQ0B,SAAS,CAAC,gBAAgB,CAACQ,OAAO,CAAEtB,KAAM,CAAAe,QAAA,CAAC,OAAK,CAAQ,CAAC,CAChEjB,KAAK,eAAIV,IAAA,QAAK0B,SAAS,CAAC,MAAM,CAAAC,QAAA,cAAC3B,IAAA,CAACJ,KAAK,EAACuC,OAAO,CAAC,qBAAqB,CAAE,CAAC,CAAK,CAAC,EAC1E,CAAC,CACH,CAAC,EACH,CAAC,CAEV,CAEA,cAAe,CAAAhC,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}